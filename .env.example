# On-Call Assistant Configuration
# Copy this file to .env and fill in your values

# ─────────────────────────────────────────────────────────────
# BACKEND MODE
# ─────────────────────────────────────────────────────────────
# "real" = Use actual Prometheus, OpenSearch, Kubernetes
# "mock" = Use mock data (automatic in tests)
# BACKEND_MODE=real

# ─────────────────────────────────────────────────────────────
# DATABASE
# ─────────────────────────────────────────────────────────────
PGHOST=localhost
PGPORT=5432
PGDATABASE=oncall
PGUSER=oncall
PGPASSWORD=oncall

# ─────────────────────────────────────────────────────────────
# API SERVER
# ─────────────────────────────────────────────────────────────
PORT=3000
NODE_ENV=development

# API key for authenticated endpoints (required in production)
# API_KEY=your-secure-api-key

# ─────────────────────────────────────────────────────────────
# PROMETHEUS / METRICS
# ─────────────────────────────────────────────────────────────
PROMETHEUS_URL=http://prometheus:9090
# PROMETHEUS_API_KEY=your-api-key  # If using Grafana Cloud or similar

# ─────────────────────────────────────────────────────────────
# OPENSEARCH / LOGS
# ─────────────────────────────────────────────────────────────
OPENSEARCH_URL=http://opensearch:9200
# OPENSEARCH_USERNAME=admin
# OPENSEARCH_PASSWORD=admin

# ─────────────────────────────────────────────────────────────
# KUBERNETES
# ─────────────────────────────────────────────────────────────
# Option 1: Use kubectl (reads from ~/.kube/config)
# KUBERNETES_CONTEXT=prod-cluster
# KUBECONFIG=/path/to/kubeconfig

# Option 2: Use Kubernetes API directly
# KUBERNETES_API_URL=https://kubernetes.default.svc
# KUBERNETES_TOKEN=your-service-account-token

# ─────────────────────────────────────────────────────────────
# ARGOCD (for deployment history and rollbacks)
# Query at runtime - no webhook needed!
# ─────────────────────────────────────────────────────────────
ARGOCD_URL=http://argocd-server:8080
ARGOCD_TOKEN=your-argocd-api-token

# ─────────────────────────────────────────────────────────────
# KIALI / ISTIO (for observing actual service dependencies)
# Optional - only if you use Istio service mesh
# ─────────────────────────────────────────────────────────────
# KIALI_URL=http://kiali:20001
# KIALI_TOKEN=your-kiali-token

# ─────────────────────────────────────────────────────────────
# GITHUB (for GitOps catalog updates via webhook)
# ─────────────────────────────────────────────────────────────
# GITHUB_WEBHOOK_SECRET=your-webhook-secret
# GITHUB_TOKEN=your-github-pat  # For fetching service.yaml

# ─────────────────────────────────────────────────────────────
# ANTHROPIC (for Agent SDK / Claude API)
# ─────────────────────────────────────────────────────────────
ANTHROPIC_API_KEY=your-anthropic-api-key

# ─────────────────────────────────────────────────────────────
# SLACK
# ─────────────────────────────────────────────────────────────
# Get these from https://api.slack.com/apps
SLACK_BOT_TOKEN=xoxb-your-bot-token
SLACK_SIGNING_SECRET=your-signing-secret
SLACK_APP_TOKEN=xapp-your-app-token
